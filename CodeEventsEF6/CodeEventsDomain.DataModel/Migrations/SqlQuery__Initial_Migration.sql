CREATE TABLE [dbo].[myApps] (
    [Id] [int] NOT NULL IDENTITY,
    [AppName] [nvarchar](max),
    [AppDESC] [nvarchar](max),
    CONSTRAINT [PK_dbo.myApps] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[APP_Layers] (
    [Id] [int] NOT NULL,
    [AppID] [int] NOT NULL,
    [LayerName] [nvarchar](max),
    [ParentLayerID] [int] NOT NULL,
    [LayerDESC] [nvarchar](max),
    [ParentLayer_Id] [int],
    [ParentLayer_AppID] [int],
    CONSTRAINT [PK_dbo.APP_Layers] PRIMARY KEY ([Id], [AppID])
)
CREATE INDEX [IX_AppID] ON [dbo].[APP_Layers]([AppID])
CREATE INDEX [IX_ParentLayer_Id_ParentLayer_AppID] ON [dbo].[APP_Layers]([ParentLayer_Id], [ParentLayer_AppID])
CREATE TABLE [dbo].[CodingEvents] (
    [EventID] [int] NOT NULL IDENTITY,
    [EventDesc] [nvarchar](max),
    [LayerID] [int] NOT NULL,
    [AppID] [int] NOT NULL,
    [EventTypeID] [int] NOT NULL,
    [Discriminator] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.CodingEvents] PRIMARY KEY ([EventID])
)
CREATE INDEX [IX_LayerID_AppID] ON [dbo].[CodingEvents]([LayerID], [AppID])
ALTER TABLE [dbo].[APP_Layers] ADD CONSTRAINT [FK_dbo.APP_Layers_dbo.myApps_AppID] FOREIGN KEY ([AppID]) REFERENCES [dbo].[myApps] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[APP_Layers] ADD CONSTRAINT [FK_dbo.APP_Layers_dbo.APP_Layers_ParentLayer_Id_ParentLayer_AppID] FOREIGN KEY ([ParentLayer_Id], [ParentLayer_AppID]) REFERENCES [dbo].[APP_Layers] ([Id], [AppID])
ALTER TABLE [dbo].[CodingEvents] ADD CONSTRAINT [FK_dbo.CodingEvents_dbo.APP_Layers_LayerID_AppID] FOREIGN KEY ([LayerID], [AppID]) REFERENCES [dbo].[APP_Layers] ([Id], [AppID]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'202108191246051_Initial_Migration', N'CodeEventsDomain.DataModel.Migrations.Configuration',  0x1F8B0800000000000400E55BCD6EE33610BE17E83B083A6D8BAC15672FDBC0DE45D64E0AA39B3888936D6F012DD18E5A8952452AB051F4C97AE823F5154AFDF34F32252B5EA7C55EB222673833FC6686E48CFFF9EBEFD1C78DEF19CF30C26E80C6E670706A1A10D981E3A2F5D88CC9EAED7BF3E3876FBF195D3AFEC6F852CC7B97CCA394088FCD2742C273CBC2F613F4011EF8AE1D05385891811DF8167002EBECF4F4076B38B4206561525E8631BA8B11717D98FE87FE7712201B862406DE75E0400FE7DFE9C822E56ADC001FE210D8706C4EE88CCB6788089E063E70D1600A0848C94CE3C27301956801BD9569008402020895F7FC01C3058902B45E84F403F0EEB721A4F356C0C330D7E3BC9AAEABD2E959A292551116ACEC18132A5B3B86C377B98D2C91BC93A5CDD286D48A97D4DA649B689D5A726CFADB8B30340D71A5F3891725B314569E78006348174D284F8CBAF1931223144AC93F3A35F6481CC131823189807762DCC64BCFB57F82DBFBE03788C628F63C565A2A2F1DE33ED04FB75110C2886CEFE02AD761E69886C5D359226149C6D0640ACE107977661A377471B0F4600906C6180B1244F04788600408746E01213042090F989A535A5D588BDA29F9A358900290FA94695C83CD6788D6E4696CD23F4DE3CADD40A7F8920BF1805CEA8294884431D458677AB998F4BFCE0D7876D7A9298415AF130C7C065BBAD3A67107BD740E7E72C3CCF50617B7B78FD9F0E37506B4AB28F0EF82C4CCE2D8E33D88D69050E9839A098B208E6C41BA915541BA11E815B74E68AFC88F14F2CA69D46AB3E94B38C74E2026CBEEC322B5F541BCE61644742BD3F57A11FAC02E98AE99A151E982933483A7133200CF97BFB26EA81A975C513949E58E3B83C5FE61A258B6364C14C2EBCAC500609774DC54A58CCC8C2649D9692A79B5C31AB3339DE21A43DF7F60332E96988EDA2407758740978AD32586958487CAF2E9825388ED178F58BDC4AA1E6274AA71C2A035A3E6689646A8BE4299E8848DF1AE930B5E46511075F7C08AFC051CF013C03047A36041415949AB195A05DD952AA98F4AA79F4184F68A962C83AFA9D905C681EDA652CB79A0F20DDEE92E9163E8384A8D00D7540537A442539B8ECDEF259FDEC1BE3C5254ECD92339CF7D688A99618EA6D083041A177676919E006C03470E2DD46B1DFE0B4D2630C9B6F4BA3FA1F184DADF4544CE3C2EB2DD10781A3A08B4DA0774FD237AA247299138328521444952D2D84D1D09CA74B29FBCA558C27EEC32FFC862D0DC0C72E99C5887C0FA43A30EFA9AB05D7F6BAD38E76F2AC706E93AD1BBC2B90544EBF6E315018E3DFA6B8043790FE8117CAA0B8416FFD3C160281E746AEC91E54F6A43422D082339D3244370A34AA50F18E6D9142BCFFE19EB05248CA1A70BD3A85236EF4B924924F2CC144A1EAC317630CAD2B99A4D6D3AE6A15331539F5799A94DE75A11EE9AD9BB5488D345721ECD64CD70E34C2C06285E7D0DD3C8377ED92CCDD15E2FDEEB29A017E1795EBDDB817B5B68B4466D286A138CF6B38C2AFCEC0D96E2C655469CAAFA6365E59FA24C64D5D48946D7200C299C99BA51FEC558E445A3B78BF655143FE361D958514C29A52D57224104D65018CD6E15576E844952A75A82E45A3C717CD53431BED6C4AC62412E84CADB5784B1627AF27719A06A2A6879DC95F373CEE48A6AE827F93D7D346176BE862E2DE0010F448A97E649E0C53E6A3A36D7519785159645F9B1159FECD556E0937D541C8B2DC10CD2D944B2BA74A2E3F75077874BAFEA699B99D4D87EAF9B885F6CC393B3A0B04DEABB4B1D0FA6B2C0F2613EEBF3126A072C3F61A8A57C321C99CF4703C8EA84D1068E339CFC3D5FBD69C0251304BFEB804CF6A8A66DF8F2C598357BCDFBF34E3ED943B0C429FBDC120CA24C1D40D587E370CFBD9266C540FFE0EC1EDD9897D9E3C5104DF28E9BDE39BF002F16DE9359365317DB91EBBB0850498FCBD0D563F12BB233F3C2FD4ACCCCBD5FBF224BF3EFEE0735F6AECCC65F46E413B5EA72D6F264C513EB1FA2929B9718C61B6F60B2F1B48E602CA79A676BDD9CC2B2AA7DB763D4EAAC71EDFBE11E87CE7D3367A366954FCC70521D2D2BA36D76A23D979A062025EA9B6EE2E294D22DCB1BB970F31EE5B760BD364EEE5A9C4D310D6ACA67D749AEC48B2D26D04F9D6BB0F8DD9B786E1A488A09D700B92B8849564A33CF4E87674207E8F174635A183B9EE215416AC9E477EC007D906E62D29D3D10EDBB0CD8262EF40C22FB09446F7CB0F98E65D6A1BDB105AF2E4D82BDD85FBFA0D17AA7F669F77095E5EF1972E0666CFE91529C1BB35FB2E87162CC23EA64E7C6A9F1E7FE6D7C7B2140D9AAD7C51A52A35E5F623D0ABBA461649EFA518ADE75F66F2B592704680B37DC255CA78EB60E4ED857C3D88B8443A9476C2FDCA91C41634F73B21EBCBB13A4D4CB0F3B2CAFE83FEB120C843B08BF315CFBDEF0ECFD0EEE7528DFB36187AD601EBE8146592CECDE28B467F3C211B7DFFC5FDB6DF222FD415B60F6708E9E205957227BC1EE99FF6EC34CE7EE951A7ED9BDEF907038DE0825584567518D37A166A2C3815078A9A8D2AB506CAFA968F1BF83ACB2371FC8B23789B1E92C038AAA2CFDA743BB5B8A58E049ECD941D51A2D5A97B81C2C2DC48DAA566226C86B1DB2BD49B697F84EAAD9CEC49137356F7DF5F6250E7C4C1B855E338EA6998EB53BA9CB2E8B717E5F03B4E83C92DF3569EC627EC44EA32F76D7158BE4CD16419B8B5AE59CA40455C45141A2628AF8233A48804343DA4544DC15B0091DB621C6E90F8D8AFAA1BF84CE0CCD6312C684AA0CFDA5C7FD7A2909C24DEBA7ED55BCCCA37998FE18A70F15A8982E5501CED1A7D8F59C52EE2BC575AA864512DDF36B79B29724B99EAFB725A79B006932CACD5726A57BE8871E6586E768019E6117D91E30FC0CD7C0DE16CFD3F54C766F046FF6D1D405EB08F838E751D1D3FF520C3BFEE6C3BF07981171CB410000 , N'6.4.4')

